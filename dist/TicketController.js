import { Ticket } from "./Ticket";
export class TicketController {
    static #instance = null;
    static tickets = new Map();
    constructor() { }
    static get instance() {
        if (this.#instance === null) {
            this.#instance = new TicketController();
        }
        return this.#instance;
    }
    static generateTicket(lotId, slotId, floorId, vehicle) {
        const ticketId = `${lotId}_${floorId}_${slotId}`;
        const ticket = new Ticket(ticketId, vehicle);
        TicketController.tickets.set(ticketId, ticket);
        return ticket;
    }
    static getTicketWithId(ticketId) {
        return TicketController.tickets.get(ticketId);
    }
    static deleteTicket(ticketId) {
        return TicketController.tickets.delete(ticketId);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGlja2V0Q29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9UaWNrZXRDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFHbEMsTUFBTSxPQUFPLGdCQUFnQjtJQUN6QixNQUFNLENBQUMsU0FBUyxHQUE0QixJQUFJLENBQUM7SUFFakQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLEdBQUcsRUFBbUIsQ0FBQztJQUU1QyxnQkFBc0IsQ0FBQztJQUVoQixNQUFNLEtBQUssUUFBUTtRQUN0QixJQUFHLElBQUksQ0FBQyxTQUFTLEtBQUssSUFBSSxFQUFDLENBQUM7WUFDeEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGdCQUFnQixFQUFFLENBQUM7UUFDNUMsQ0FBQztRQUVELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQsTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFZLEVBQUUsTUFBc0IsRUFBRSxPQUF1QixFQUFFLE9BQWdCO1FBQ2pHLE1BQU0sUUFBUSxHQUFHLEdBQUcsS0FBSyxJQUFJLE9BQU8sSUFBSSxNQUFNLEVBQUUsQ0FBQztRQUNqRCxNQUFNLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDN0MsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDL0MsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxlQUFlLENBQUMsUUFBZTtRQUNsQyxPQUFPLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVELE1BQU0sQ0FBQyxZQUFZLENBQUMsUUFBZTtRQUMvQixPQUFPLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRpY2tldCB9IGZyb20gXCIuL1RpY2tldFwiO1xuaW1wb3J0IHsgSVRpY2tldCwgSVZlaGljbGUgfSBmcm9tIFwiLi90eXBlXCI7XG5cbmV4cG9ydCBjbGFzcyBUaWNrZXRDb250cm9sbGVye1xuICAgIHN0YXRpYyAjaW5zdGFuY2U6IFRpY2tldENvbnRyb2xsZXIgfCBudWxsID0gbnVsbDtcblxuICAgIHN0YXRpYyB0aWNrZXRzID0gbmV3IE1hcDxzdHJpbmcsIElUaWNrZXQ+KCk7XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCl7fVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKTpUaWNrZXRDb250cm9sbGVye1xuICAgICAgICBpZih0aGlzLiNpbnN0YW5jZSA9PT0gbnVsbCl7XG4gICAgICAgICAgICB0aGlzLiNpbnN0YW5jZSA9IG5ldyBUaWNrZXRDb250cm9sbGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4jaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgc3RhdGljIGdlbmVyYXRlVGlja2V0KGxvdElkOnN0cmluZywgc2xvdElkOnN0cmluZyB8IG51bWJlciwgZmxvb3JJZDpzdHJpbmcgfCBudW1iZXIsIHZlaGljbGU6SVZlaGljbGUpe1xuICAgICAgICBjb25zdCB0aWNrZXRJZCA9IGAke2xvdElkfV8ke2Zsb29ySWR9XyR7c2xvdElkfWA7XG4gICAgICAgIGNvbnN0IHRpY2tldCA9IG5ldyBUaWNrZXQodGlja2V0SWQsIHZlaGljbGUpO1xuICAgICAgICBUaWNrZXRDb250cm9sbGVyLnRpY2tldHMuc2V0KHRpY2tldElkLCB0aWNrZXQpO1xuICAgICAgICByZXR1cm4gdGlja2V0O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRUaWNrZXRXaXRoSWQodGlja2V0SWQ6c3RyaW5nKTogSVRpY2tldCB8IHVuZGVmaW5lZHtcbiAgICAgICAgcmV0dXJuIFRpY2tldENvbnRyb2xsZXIudGlja2V0cy5nZXQodGlja2V0SWQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWxldGVUaWNrZXQodGlja2V0SWQ6c3RyaW5nKXtcbiAgICAgICAgcmV0dXJuIFRpY2tldENvbnRyb2xsZXIudGlja2V0cy5kZWxldGUodGlja2V0SWQpO1xuICAgIH1cbn0iXX0=